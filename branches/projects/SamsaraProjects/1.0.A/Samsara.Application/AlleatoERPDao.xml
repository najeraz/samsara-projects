<?xml version="1.0" encoding="utf-8" ?>
<objects xmlns="http://www.springframework.net"
         xmlns:db="http://www.springframework.net/database">

  <db:provider id="DbProviderAlleatoERP"
                   provider="SqlServer-2.0"
                   connectionString="Server=192.168.10.4;Database=ERP_CIE;User ID=javier;Password=javier;Trusted_Connection=False;"/>

  <object id="SessionFactoryAlleatoERP" type="Spring.Data.NHibernate.LocalSessionFactoryObject, Spring.Data.NHibernate32">
    <property name="DbProvider" ref="DbProviderAlleatoERP"/>
    
    <property name="MappingAssemblies">
      <list>
        <value>Samsara.Persistance.NHibernate</value>
      </list>
    </property>
    
    <property name="HibernateProperties">
      <dictionary>

        <entry key="connection.provider"
               value="NHibernate.Connection.DriverConnectionProvider"/>

        <entry key="dialect"
               value="NHibernate.Dialect.MsSql2005Dialect"/>

        <entry key="connection.driver_class"
               value="NHibernate.Driver.SqlClientDriver"/>

        <entry key="show_sql" value="True"/>

        <!--<entry key="hibernate.hbm2ddl.auto" value="create-drop" />-->
      </dictionary>
    </property>
  </object>

  <object id="HibernateTemplateAlleatoERP" type="Spring.Data.NHibernate.Generic.HibernateTemplate">
    <property name="SessionFactory" ref="SessionFactoryAlleatoERP" />
    <property name="TemplateFlushMode" value="Auto" />
    <property name="CacheQueries" value="true"/>
  </object>

  <object id="IAlleatoERPDao"
          type="Samsara.AlleatoERP.Dao.Impl.AlleatoERPDao, Samsara.AlleatoERP.Dao">
    <property name="HibernateTemplate" ref="HibernateTemplateAlleatoERP"/>
  </object>

</objects>

